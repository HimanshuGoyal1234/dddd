<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Access System</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary-color: rgba(255, 0, 0, 0.8); --secondary-color: rgba(0, 191, 255, 0.8); --text-color: #fff; --placeholder-color: rgba(255, 255, 255, 0.5); --bg-color: #111; --success-color: #00ff88; --error-color: #ff3860; --border-radius: 12px; --animation-duration: 1.5s; --easing: cubic-bezier(0.68, -0.55, 0.265, 1.55); --transition-speed: 0.3s; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--bg-color); min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; font-family: "Orbitron", sans-serif; overflow: hidden; padding: 20px; }
        .container { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 30px; width: 100%; max-width: 400px; margin: 0 auto; position: relative; }
        .border-container { position: relative; width: min(90vw, 380px); height: 74px; display: flex; justify-content: center; align-items: center; filter: drop-shadow(0 0 5px var(--primary-color)); }
        .border { position: absolute; border-radius: var(--border-radius); width: calc(100% - 20px); height: 50px; box-sizing: content-box; animation: border-glow 3s infinite alternate; left: 50%; transform: translateX(-50%); }
        .border-red { border: 2px solid var(--primary-color); z-index: 2; box-shadow: 0 0 10px var(--primary-color); }
        .border-blue { border: 2px solid var(--secondary-color); padding: 10px; z-index: 1; box-shadow: 0 0 10px var(--secondary-color); }
        .border::after { content: ""; position: absolute; background: var(--bg-color); z-index: -1; height: 80px; top: 50%; transform: translateY(-50%); }
        .border-red::after { width: calc(100% + 58px); left: -26px; animation: wipe-right var(--animation-duration) var(--easing) forwards; }
        .border-blue::after { width: calc(100% + 60px); right: -26px; z-index: -2; animation: wipe-left var(--animation-duration) var(--easing) forwards; }
        @keyframes wipe-right { 0%, 25% { width: calc(100% + 58px); } 100% { width: 0; } }
        @keyframes wipe-left { 0%, 25% { width: calc(100% + 60px); } 100% { width: 0; right: 0; } }
        @keyframes border-glow { 0% { opacity: 0.8; } 100% { opacity: 1; } }
        .input-box { position: relative; z-index: 3; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        .input-wrapper { position: relative; width: calc(100% - 40px); margin: 0 auto; display: flex; justify-content: center; }
        .input-box input {position: absolute; width: 100%; height: 44px; border: none; outline: none; background: transparent; padding: 0 40px 0 15px; font-size: 16px; color: var(--text-color); text-align: center; font-family: inherit; letter-spacing: 1px; animation: fade-in var(--animation-duration) forwards var(--easing); transition: all var(--transition-speed) var(--easing); }
        .input-box input::placeholder { color: var(--placeholder-color); opacity: 1; letter-spacing: normal; }
        .toggle-password { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); width: 24px; height: 24px; background: none; border: none; cursor: pointer; color: var(--placeholder-color); z-index: 4; display: flex; align-items: center; justify-content: center; animation: fade-in var(--animation-duration) forwards var(--easing); transition: all var(--transition-speed) var(--easing); border-radius: 50%; padding: 5px; }
        .toggle-password:hover { color: var(--text-color); background: rgba(255, 255, 255, 0.1); transform: translateY(-50%) scale(1.1); }
        @keyframes fade-in { 0%, 70% { opacity: 0; transform: translateY(-30%); } 100% { opacity: 1; transform: translateY(-50%); } }
        .eye-off-icon { display: none; }
        .toggle-password.show-password .eye-icon { display: none; }
        .toggle-password.show-password .eye-off-icon { display: block; }
        .message { position: relative; border: 2px solid var(--error-color); background-color: rgba(0, 0, 0, 0.7); color: white; text-shadow: 0 0 10px var(--error-color); padding: 12px 25px; border-radius: var(--border-radius); opacity: 0; font-weight: 500; letter-spacing: 1px; text-align: center; max-width: 90%; margin: 0 auto; backdrop-filter: blur(5px); box-shadow: 0 0 20px rgba(255, 0, 0, 0.3); transform: translateY(20px); transition: all var(--transition-speed) var(--easing); }
        .message.success { border-color: var(--success-color); text-shadow: 0 0 10px var(--success-color); box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
        .message.visible { opacity: 1; transform: translateY(0); }
        .hint { color: var(--placeholder-color); font-size: 12px; text-align: center; margin-top: -20px; opacity: 0.7; letter-spacing: 0.5px; width: 100%; }
        .success-animation { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000; opacity: 0; pointer-events: none; transition: opacity 0.5s; }
        .success-animation.active { opacity: 1; pointer-events: all; }
        .success-checkmark { width: 80px; height: 80px; margin-bottom: 20px; position: relative; }
        .success-checkmark .check-icon { width: 100%; height: 100%; border-radius: 50%; display: block; stroke-width: 4; stroke: var(--success-color); stroke-miterlimit: 10; box-shadow: 0 0 30px var(--success-color); animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; }
        .success-checkmark .check-icon-circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 4; stroke-miterlimit: 10; fill: none; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
        .success-checkmark .check-icon-check { transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; }
        @keyframes stroke { 100% { stroke-dashoffset: 0; } }
        @keyframes scale { 0%, 100% { transform: none; } 50% { transform: scale3d(1.1, 1.1, 1); } }
        @keyframes fill { 100% { box-shadow: inset 0 0 0 100px rgba(0, 0, 0, 0); } }
        .success-text { color: var(--success-color); font-size: 24px; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; text-shadow: 0 0 10px var(--success-color); opacity: 0; transform: translateY(20px); animation: text-appear 0.5s ease-out 1s forwards; }
        .success-subtext { color: white; font-size: 16px; margin-top: 10px; opacity: 0; transform: translateY(20px); animation: text-appear 0.5s ease-out 1.2s forwards; }
        @keyframes text-appear { 100% { opacity: 1; transform: translateY(0); } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
    </style>
    <script>
        document.addEventListener('keydown', function (e) { if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'S')) { alert("Saving is not allowed."); e.preventDefault(); } });
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('dragstart', event => event.preventDefault());
        document.onkeydown = function (e) { if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I")) { alert("Inspect disabled!"); return false; } };
    </script>
</head>
<body>
    <div class="container">
        <div class="border-container">
            <span class="border border-red" aria-hidden="true"></span>
            <span class="border border-blue" aria-hidden="true"></span>
            <div class="input-box">
                <div class="input-wrapper">
                    <input type="password" id="passwordInput" placeholder="Enter secret code..." autocomplete="off" spellcheck="false">
                    <button class="toggle-password" aria-label="Toggle password visibility" tabindex="-1">
                        <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        <svg class="eye-off-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
                    </button>
                </div>
            </div>
        </div>
        <p class="hint">Press Enter to submit</p>
        <div id="message" class="message"></div>
    </div>
    <div class="success-animation" id="successAnimation">
        <div class="success-checkmark"><svg class="check-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="check-icon-circle" cx="26" cy="26" r="25" fill="none"></circle><path class="check-icon-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"></path></svg></div>
        <div class="success-text">ACCESS GRANTED</div>
        <div class="success-subtext">Welcome back, authorized user</div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const pwdInput = document.getElementById('passwordInput'); const toggleBtn = document.querySelector('.toggle-password'); const msg = document.getElementById('message'); const cont = document.querySelector('.container'); const successAnim = document.getElementById('successAnimation');
            function displayMsg(text, success) { msg.textContent = text; msg.className = success ? 'message success visible' : 'message error visible'; setTimeout(() => { msg.classList.remove('visible'); }, 3000); }
            function showSuccess() { if (successAnim) successAnim.classList.add('active'); setTimeout(() => successAnim.classList.remove('active'), 2500); }
            function handleSuccess() { displayMsg('ACCESS GRANTED', true); showSuccess(); setTimeout(() => { window.location.href = '/HSP_interface.html'; }, 1500); }
            function handleFailure() { displayMsg('ACCESS DENIED', false); cont.style.animation = 'none'; void cont.offsetWidth; cont.style.animation = 'shake 0.5s'; setTimeout(() => cont.style.animation = '', 500); }
            if (toggleBtn) { toggleBtn.addEventListener('click', function () { const isPwd = pwdInput.type === 'password'; pwdInput.type = isPwd ? 'text' : 'password'; toggleBtn.classList.toggle('show-password', !isPwd); if (!isPwd) setTimeout(() => { pwdInput.type = 'password'; toggleBtn.classList.remove('show-password'); }, 3000); pwdInput.focus(); }); }
            pwdInput.addEventListener('keydown', function (event) { if (event.key === 'Enter') { const password = pwdInput.value || ''; if (!password.trim()) { displayMsg('Please enter a password', false); return; } fetch('/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: password }) }).then(response => response.json()).then(data => { if (data.success) { handleSuccess(); } else { handleFailure(); } }).catch(error => { console.error('Error:', error); displayMsg('Server error', false); }); } if (event.key === 'Escape') pwdInput.blur(); });
        });
    </script>
</body>
</html>