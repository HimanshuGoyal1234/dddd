<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>VS Code Style Live Editor</title>
        <style>
            body {
                margin: 0;
                font-family: 'Consolas', 'Courier New', monospace;
                background: #1e1e1e;
                color: #d4d4d4;
                height: 100vh;
                display: flex;
                flex-direction: column;
            }

            .editor-container {
                display: flex;
                gap: 10px;
                padding: 10px;
                flex: 1;
                min-height: 0;
            }

            .editor-box {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: #1e1e1e;
                border-radius: 5px;
                overflow: hidden;
            }

            .editor-header {
                background: #252526;
                color: #d4d4d4;
                padding: 5px 10px;
                font-size: 14px;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }

            textarea {
                flex: 1;
                background: #1e1e1e;
                border: none;
                padding: 10px;
                font-size: 14px;
                font-family: 'Consolas', 'Courier New', monospace;
                resize: none;
                line-height: 1.5;
                tab-size: 4;
            }

            /* HTML specific styling */
            #html {
                color: #569cd6;
                /* Blue for tags */
            }

            #html::placeholder {
                color: #569cd6;
            }

            /* CSS specific styling */
            #css {
                color: #9cdcfe;
                /* Light blue for properties */
            }

            #css::placeholder {
                color: #9cdcfe;
            }

            /* JS specific styling */
            #js {
                color: #f5c76b;
                /* Yellow for keywords */
            }

            #js::placeholder {
                color: #f5c76b;
            }

            .preview {
                flex: 1;
                padding: 0 10px 10px 10px;
                display: flex;
                flex-direction: column;
                min-height: 0;
            }

            .preview-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 5px 10px;
                background: #252526;
                color: #d4d4d4;
                border-radius: 5px 5px 0 0;
            }

            .fullscreen-btn {
                background: #0e639c;
                color: white;
                border: none;
                padding: 5px 10px;
                border-radius: 3px;
                cursor: pointer;
                font-family: 'Consolas', 'Courier New', monospace;
            }

            .save-btn {
                background: #388a34;
                color: white;
                border: none;
                padding: 5px 10px;
                border-radius: 3px;
                cursor: pointer;
                font-family: 'Consolas', 'Courier New', monospace;
                margin-left: 5px;
            }

            .save-all-btn {
                background: #4CAF50;
                color: white;
                border: none;
                padding: 5px 10px;
                border-radius: 3px;
                cursor: pointer;
                font-family: 'Consolas', 'Courier New', monospace;
                margin: 10px;
                align-self: flex-end;
            }

            iframe {
                flex: 1;
                width: 100%;
                border: none;
                background: white;
                border-radius: 0 0 5px 5px;
            }

            ::-webkit-scrollbar {
                width: 10px;
                height: 10px;
            }

            ::-webkit-scrollbar-track {
                background: #252526;
            }

            ::-webkit-scrollbar-thumb {
                background: #3e3e42;
                border-radius: 5px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: #4e4e52;
            }
        </style>
    </head>

    <body>
        <button class="save-all-btn" onclick="saveAllCode()">Save All as HTML File</button>

        <div class="editor-container">
            <div class="editor-box">
                <div class="editor-header">
                    <span>index.html</span>
                    <button class="save-btn" onclick="saveCode('html')">Save</button>
                </div>
                <textarea id="html" placeholder="<!-- HTML code here -->"></textarea>
            </div>

            <div class="editor-box">
                <div class="editor-header">
                    <span>style.css</span>
                    <button class="save-btn" onclick="saveCode('css')">Save</button>
                </div>
                <textarea id="css" placeholder="/* CSS code here */"></textarea>
            </div>

            <div class="editor-box">
                <div class="editor-header">
                    <span>script.js</span>
                    <button class="save-btn" onclick="saveCode('js')">Save</button>
                </div>
                <textarea id="js" placeholder="// JavaScript code here"></textarea>
            </div>
        </div>

        <div class="preview">
            <div class="preview-header">
                <h3>Preview</h3>
                <button class="fullscreen-btn" onclick="toggleFullscreen('output')">Fullscreen Preview (F11)</button>
            </div>
            <iframe id="output"></iframe>
        </div>

        <script>
            const htmlInput = document.getElementById("html");
            const cssInput = document.getElementById("css");
            const jsInput = document.getElementById("js");
            const output = document.getElementById("output");

            // Initialize with default content
            function initializeEditor() {
                htmlInput.value = `<!DOCTYPE html>
<html>
<head>
    <title>My Project</title>
</head>
<body>
    <h1>Hello World!</h1>
    <p>Start editing to see live changes</p>
</body>
</html>`;

                cssInput.value = `body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    color: #333;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    color: #0066cc;
}`;

                jsInput.value = `// JavaScript code here
document.querySelector('h1').addEventListener('click', function() {
    alert('Heading clicked!');
});`;

                updatePreview();
            }

            // Update the preview iframe
            function updatePreview() {
                const html = htmlInput.value;
                const css = `<style>${ cssInput.value }</style>`;
                const js = `<script>try {
        ${ jsInput.value }
    } catch(e) {
        console.error(e);
        document.body.innerHTML += '<div style="color:red;padding:10px;background:#ffeeee;border:1px solid red;margin:10px;">JavaScript Error: ' + e.message + '</div>';
    }<\/script>`;

                const code = html + css + js;
                output.srcdoc = code;
            }

            // Save individual files
            function saveCode(type) {
                const textarea = document.getElementById(type);
                const code = textarea.value;

                let filename, contentType;

                switch (type) {
                    case 'html':
                        filename = 'index.html';
                        contentType = 'text/html';
                        break;
                    case 'css':
                        filename = 'style.css';
                        contentType = 'text/css';
                        break;
                    case 'js':
                        filename = 'script.js';
                        contentType = 'text/javascript';
                        break;
                }

                const blob = new Blob([code], { type: contentType });
                const url = URL.createObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();

                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
            }

            // Save all code as a single HTML file
            function saveAllCode() {
                const html = htmlInput.value;
                const css = `<style>${ cssInput.value }</style>`;
                const js = `<script>try {
        ${ jsInput.value }
    } catch(e) {
        console.error(e);
        document.body.innerHTML += '<div style="color:red;padding:10px;background:#ffeeee;border:1px solid red;margin:10px;">JavaScript Error: ' + e.message + '</div>';
    }<\/script>`;

                const fullCode = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Project</title>
    ${ css }
</head>
<body>
    ${ html }
    ${ js }
</body>
</html>`;

                const blob = new Blob([fullCode], { type: 'text/html' });
                const url = URL.createObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = 'project.html';
                document.body.appendChild(a);
                a.click();

                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
            }

            // Fullscreen functionality
            function toggleFullscreen(elementId) {
                const element = document.getElementById(elementId);

                if (!document.fullscreenElement) {
                    if (element.requestFullscreen) {
                        element.requestFullscreen();
                    } else if (element.webkitRequestFullscreen) {
                        element.webkitRequestFullscreen();
                    } else if (element.msRequestFullscreen) {
                        element.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
            }

            htmlInput.addEventListener("input", updatePreview);
            cssInput.addEventListener("input", updatePreview);
            jsInput.addEventListener("input", updatePreview);

            document.addEventListener('keydown', function (e) {
                if (e.key === 'F11') {
                    e.preventDefault();
                    toggleFullscreen('output');
                }
            });

            // Initialize the editor when page loads
            window.addEventListener('DOMContentLoaded', initializeEditor);        </script>
    </body>

</html>